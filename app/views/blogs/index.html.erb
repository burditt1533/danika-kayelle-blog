<div class="col-md-12">



  <% @blogs.each do |blog| %>

    <div class="col-sm-4 posts-wrap clearfix">
      <div class="col-xs-12">
      <div class="image-container">
      <%= link_to blog  do %>
        <div class="image-background-holder blog-image-sm" style="background-image: url(<%= blog.image.url(:medium)%>)" ></div>
        
      <% end %> 
      </div>

      </div>

      <div class="col-sm-12">
        <h3 class="col-xs-12"><%= blog.title %></h3>
        <div class="col-xs-12"><%= truncate(blog.content.html_safe, :length => 300) %></div>

      </div>

    <% if user_signed_in? %>
        <div class="col-xs-12">
          <%= link_to blog  do %>
            <button type="button" class="btn btn-primary">Read More</button>
          <% end %>

          <%= link_to edit_blog_path(blog)  do %>
            <button type="button" class="btn btn-primary">Edit</button>
          <% end %>

          <%= link_to blog, method: :delete, data: { confirm: 'Are you sure?' }  do %>
            <button type="button" class="btn btn-primary">Delete</button>
          <% end %>
          <p>
        Tags: <%= raw blog.tag_list.map { |t| link_to t, tag_path(t) }.join(', ')%>
      </p>
        <hr>
        </div>

    <% end %>
      </div>
      
  <% end %>


  <%= link_to new_blog_path do %>
    <button type="button" class="btn btn-primary">New Blog</button>
  <% end %>

</div>


<div class="col-md-12 side_bar">
  <h3>About The Author</h3>

  <div id="tag_cloud">
<% tag_cloud Blog.tag_counts, %w[s m l] do |tag, css_class| %>
  <%= link_to tag.name, tag_path(tag.name), class: css_class %>
  <% end %>
</div>

</div>

<div class="clearfix"></div>

